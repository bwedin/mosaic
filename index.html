<html>
  <head>
    <title>Mosaic Learning</title>
    <link rel="icon" href="./img/favicon.ico">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" 
    	integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="./style.css" rel="stylesheet">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

  	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.js"></script>


    <script src="./sketch.js"></script>

  </head>
  <body>
<!--     <div class="row">
        <div class="col-md-8">
    		<div id="sketch-holder" />
    	<p>Pretty cool, eh?</p>
    	</div>
    	<div class="col-md-4">
    		<h3>this is for meee</h3>
    	</div>
	</div> -->
	<div class="container-fluid">
	<div id="mobile-header" class="text-center initially-hidden">
	<h1 class="margin-top-10">Hi! Welcome to the mobile version of Mosaic.</h1>
	<p class='font-size-1-5'>Unfortunately, this version is not interactive. If you want more features and controls, check out the full version on a non-mobile device.<br></p>
	</div>
	<div class="row">
		<div class="col-lg-9 text-center">
			<div id="sketch-holder-holder" class="sticky-top">
				<div id="sketch-holder"></div>
			</div>
    	</div>

		<div id="sidebar" class="col-lg-offset-9 col-lg-3 noselect">
		<div id="sidebar-title">
			<h2>Mosaic Learning</h2>
			<i>Interactive algorithm art</i>
			<br>
			<!-- <button id="toggle-auto-mosaic" type="button" class="btn btn-sm btn-outline-warning margin-top-10 margin-bottom-5" onclick="toggleAutoMosaic()">Auto-Mosaic</button> -->
            <div id="colorset-0" class="colorset-2">
                <button class="btn btn-sm colorset-button" id="colorset-0-toggle" style="background-color: #555555; color: #ffffff" onclick="toggleColorset('colorset-0')">What am I looking at?!
                    <strong><i class="float-right bold fa fa-angle-down" aria-hidden="true"></i></strong></button><br>
                <div id="colorset-0-collapse" class="form-rounded-less collapse in">

                    <div class="tab-content font-size-75" style="margin-left:5%; width:90%">
                        This project is an alternative version of <a href="http://www.benwedin.com/mosaic-live" target="_blank">Mosaic</a> inspired by
                        <a href="https://distill.pub/2018/building-blocks/" target="_blank">"The Building Blocks of Interpretability"</a> from distill.pub.
                        <br>
                        <br>
                        The point of this visualization is to see what neurons in our network are highly
                        activated for different images.
                        <br>
                        <br>
                        Depending on the parameters you've set, the image will show what neurons are most excited
                        at that location in the image. For example, you might see images that look a lot like birds in
                        the part of an image that contains birds on a birdfeeder:
                        <br>
                        <br>
                        <img class="rounded" src="./img/birds-5a.png" style="margin-left: 30%; width:40%; height:auto">
                        <br>
                        <br>
                        You may also want to add other lower layers to see more abstract feature visualizations (or to
                        see both at once!):
                        <br>
                        <br>
                        <img class="rounded" src="./img/birds-lower.png" style="margin-left: 30%; width:40%; height:auto">
                        <br>
                        <br>
                        For a more complete explanation, please check out
                        <a href="https://distill.pub/2018/building-blocks/" target="_blank">the distill.pub article.</a>
                    </div>
                </div>
            </div>
		</div>
        <hr>
		<div id="default-ui-controls">
		<div class="margin-top-10">
            <button id="fullscreen" type="button" class="btn btn-outline-info btn-sm margin-bottom-5" onclick="makeFullScreen()">Fullscreen</button>
            <button id="save-image" type="button" class="btn btn-outline-info btn-sm margin-bottom-5" onclick="executeSave()">Save Image</button>
        </div>
		<div class="parameter-title">Image</div>
		<div class="btn-group" data-toggle="buttons" id="image-toggle">
			<label class="btn btn-secondary active">
				<input type="radio" name="shape-options" id="option1" value="birds" autocomplete="off" checked>
				<img class="rounded" src="./img/i-birds.png" alt="Birds" style="height:30px; width: 30px">
			</label>
		  <label class="btn btn-secondary">
		    <input type="radio" name="shape-options" id="option2" value="pets" autocomplete="off">
			  <img class="rounded" src="./img/i-pets.png" alt="Pets" style="height:30px; width: 30px">
		  </label>
		  <label class="btn btn-secondary">
		    <input type="radio" name="shape-options" id="option3" value="flowers" autocomplete="off">
			  <img class="rounded" src="./img/i-flowers.png" alt="Square" style="height:30px; width: 30px">
          </label>
		</div>
		<div class="parameter-title">Refresh Rate</div>
 		<input id="refresh-per-minute" type="number" class="input-number" value="20" min="1" size="6">&nbsp;times per minute<br>
 		<span id="refresh-seconds-text" class="alt-text">(every 0.5 seconds)</span><br>
		<button id="refresh-drawing" type="button" class="btn btn-outline-primary btn-sm margin-top-5 margin-bottom-10" onclick="refreshDrawing()">Refresh</button>
		<button id="toggle-freeze" type="button" class="btn btn-outline-primary btn-sm margin-top-5 margin-bottom-10" onclick="toggleFreeze()">Freeze</button>
		<div class="parameter-title">Opacity</div>
		<input type="range" id="opacity" list="opacity-data" step="10" min="0" max="100" value="50">
		<datalist id="opacity-data">
		  <option value="0">
		  <option value="10">
		  <option value="20">
		  <option value="30">
		  <option value="40">
		  <option value="50">
		  <option value="60">
		  <option value="70">
		  <option value="80">
		  <option value="90">
		  <option value="100">
		</datalist>
		<span id="opacity-display"></span>
		<div class="font-size-75"><i>Set opacity to 100% to improve performance speed</i></div>
		<div class="parameter-title">Layers</div>
		<div id="color-picker-master" class="form-rounded">
				<button id="add-layer" type="button" class="btn btn-outline-primary btn-sm margin-bottom-5" onclick=addLayer()>+ Add Layer</button>
				<button id="remove-layer" type="button" class="btn btn-outline-danger btn-sm margin-bottom-5 float-right" onclick=removeLayer()>- Remove</button><br>
				<div id="max-layers" class="initially-hidden-75">Max layers reached</div>


				<!-- <div class="panel-group">
				    <div class="panel panel-default">
				      <div class="panel-heading">
				        <h4 class="panel-title">
				          <a data-toggle="collapse" href="#colorset-1">Colorset 1</a>
				        </h4>
				      </div>
 -->

			<div id="colorset-1" class="colorset-1">
				<button class="btn btn-sm colorset-button background-colorset-1" id="colorset-1-toggle" onclick="toggleColorset('colorset-1')">Layer 1 (Input)
					<strong><i class="float-right bold fa fa-angle-down" aria-hidden="true"></i></strong></button><br>
				<!--<a href="#" data-toggle="collapse" data-target="#colorset-1-collapse" id="colorset-1" class="colorset-1"><span class="colorset-1">&#9679;</span> Colorset 1</a>-->
				<div id="colorset-1-collapse" class="form-rounded-less collapse in">

					<div class="tab-content">
						<div id="colorset-1-colors" class="tab-pane font-size-75 color-controls active">
							No activation controls available for input layer
							<div style="display: none">
							<button id="add-colorset-1" type="button" class="btn btn-outline-primary btn-sm margin-bottom-5" onclick=addActivation('colorset-1')>+ Add</button>
							<button id="remove-colorset-1" type="button" class="btn btn-outline-danger btn-sm margin-bottom-5 float-right" onclick=removeActivation('colorset-1')>- Remove</button>
							<!-- <button id="presets-colorset-1" type="button" class="btn btn-outline-info btn-sm btn-show-color-presets" onclick=showPresets('colorset-1')>Presets</button> -->
							<br>
						</div>
					</div>
				</div>
			</div>
			<div id="colorset-2" class="colorset-2">
				<button class="btn btn-sm colorset-button background-colorset-2" id="colorset-2-toggle" onclick="toggleColorset('colorset-2')">Layer 2 (mixed3a)
					<strong><i class="float-right bold fa fa-angle-down" aria-hidden="true"></i></strong></button><br>
				<div id="colorset-2-collapse" class="form-rounded-less collapse in">

					<div class="tab-content">
						<div id="colorset-2-colors" class="tab-pane color-controls active">
							<button id="add-mixed5a" type="button" class="btn btn-outline-primary btn-sm margin-bottom-5" onclick=addActivation('mixed5a')>+ Add</button>
							<button id="remove-mixed5a" type="button" class="btn btn-outline-danger btn-sm margin-bottom-5 float-right" onclick=removeActivation('mixed5a')>- Remove</button>
							<div id="mixed5a-activation-text" class="activation-text">Showing highest activation</div>
							<div id="mixed5a-activation-1" class="activation-display" style="width:80%"></div>
							<div id="mixed5a-activation-2" class="activation-display" style="width:70%"></div>
							<div id="mixed5a-activation-3" class="activation-display" style="width:60%"></div>
							<div id="mixed5a-activation-4" class="activation-display" style="width:50%"></div>
							<div id="mixed5a-activation-5" class="activation-display" style="width:40%"></div>

							<!-- <button id="presets-colorset-2" type="button" class="btn btn-outline-info btn-sm btn-show-color-presets" onclick=showPresets('colorset-2')>Presets</button> -->
						</div>
					</div>
				</div>
			</div>
			<div id="colorset-3" class="colorset-3">
				<button class="btn btn-sm colorset-button background-colorset-3" id="colorset-3-toggle" onclick="toggleColorset('colorset-3')">Layer 3 (mixed4a)
					<strong><i class="float-right bold fa fa-angle-down" aria-hidden="true"></i></strong></button><br>
				<div id="colorset-3-collapse" class="form-rounded-less collapse in">
					<div class="tab-content">
						<div id="colorset-3-colors" class="tab-pane color-controls active">
							<button id="add-mixed4d" type="button" class="btn btn-outline-primary btn-sm margin-bottom-5" onclick=addActivation('mixed4d')>+ Add</button>
							<button id="remove-mixed4d" type="button" class="btn btn-outline-danger btn-sm margin-bottom-5 float-right" onclick=removeActivation('mixed4d')>- Remove</button>
							<div id="mixed4d-activation-text" class="activation-text">Showing highest activation</div>
							<div id="mixed4d-activation-1" class="activation-display" style="width:80%"></div>
							<div id="mixed4d-activation-2" class="activation-display" style="width:70%"></div>
							<div id="mixed4d-activation-3" class="activation-display" style="width:60%"></div>
							<div id="mixed4d-activation-4" class="activation-display" style="width:50%"></div>
							<div id="mixed4d-activation-5" class="activation-display" style="width:40%"></div>
							<!-- <button id="presets-colorset-3" type="button" class="btn btn-outline-info btn-sm btn-show-color-presets" onclick=showPresets('colorset-3')>Presets</button> -->
						</div>
					</div>
				</div>
			</div>
			<div id="colorset-4" class="colorset-4">
				<button class="btn btn-sm colorset-button background-colorset-4" id="colorset-4-toggle" onclick="toggleColorset('colorset-4')">Layer 4 (mixed4d)
					<strong><i class="float-right bold fa fa-angle-down" aria-hidden="true"></i></strong></button><br>
				<div id="colorset-4-collapse" class="form-rounded-less collapse in">

					<div class="tab-content">
						<div id="colorset-4-colors" class="tab-pane color-controls active">
							<button id="add-mixed4a" type="button" class="btn btn-outline-primary btn-sm margin-bottom-5" onclick=addActivation('mixed4a')>+ Add</button>
							<button id="remove-mixed4a" type="button" class="btn btn-outline-danger btn-sm margin-bottom-5 float-right" onclick=removeActivation('mixed4a')>- Remove</button>
							<div id="mixed4a-activation-text" class="activation-text">Showing highest activation</div>
							<div id="mixed4a-activation-1" class="activation-display" style="width:80%"></div>
							<div id="mixed4a-activation-2" class="activation-display" style="width:70%"></div>
							<div id="mixed4a-activation-3" class="activation-display" style="width:60%"></div>
							<div id="mixed4a-activation-4" class="activation-display" style="width:50%"></div>
							<div id="mixed4a-activation-5" class="activation-display" style="width:40%"></div>
							<!-- <button id="presets-colorset-4" type="button" class="btn btn-outline-info btn-sm btn-show-color-presets" onclick=showPresets('colorset-4')>Presets</button> -->
						</div>
					</div>
				</div>
			</div>
			<div id="colorset-5" class="colorset-5">
				<button class="btn btn-sm colorset-button background-colorset-5" id="colorset-5-toggle" onclick="toggleColorset('colorset-5')">Layer 5 (mixed5a)
					<strong><i class="float-right bold fa fa-angle-down" aria-hidden="true"></i></strong></button><br>
				<div id="colorset-5-collapse" class="form-rounded-less collapse in">

					<div class="tab-content">
						<div id="colorset-5-colors" class="tab-pane color-controls active">
							<button id="add-mixed3a" type="button" class="btn btn-outline-primary btn-sm margin-bottom-5" onclick=addActivation('mixed3a')>+ Add</button>
							<button id="remove-mixed3a" type="button" class="btn btn-outline-danger btn-sm margin-bottom-5 float-right" onclick=removeActivation('mixed3a')>- Remove</button>
							<div id="mixed3a-activation-text" class="activation-text">Showing highest activation</div>
							<div id="mixed3a-activation-1" class="activation-display" style="width:80%"></div>
							<div id="mixed3a-activation-2" class="activation-display" style="width:70%"></div>
							<div id="mixed3a-activation-3" class="activation-display" style="width:60%"></div>
							<div id="mixed3a-activation-4" class="activation-display" style="width:50%"></div>
							<div id="mixed3a-activation-5" class="activation-display" style="width:40%"></div>
							<!-- <button id="presets-colorset-5" type="button" class="btn btn-outline-info btn-sm btn-show-color-presets" onclick=showPresets('colorset-5')>Presets</button> -->
						</div>
					</div>
				</div>
			</div>
			<!-- <button id="change-colors" type="button" class="btn btn-sm btn-outline-info margin-top-10 margin-bottom-5" onclick="executeAutoMosaic('change-colors')">Randomize Colors</button> -->
		</div>
		</div>
		</div>
		<div style="height:900px"></div>
		</div>
	</div>
	</div>

  </body>
</html>